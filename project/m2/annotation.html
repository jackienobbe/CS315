<!DOCTYPE html>

<html>
  <head>
  </head>

  <body>
    <h1>Milestone 2 Annotation</h1>
    <h2>22 March 2017</h2>
    <h3>This hasn't completely happened yet :( </h3>
    <p>Hopefully by noon this problem will be solved. Thanks for your patience (and perhaps willingness to come back?) </p>

    <h3>Usage of PHP</h3>
    <ul>
         <li> For this milestone, PHP was primarily implemented to add the ability to log in and out of an account. Anyone will be able to view the database, but only people that are given login credentials can add shows or bands to the database. This will also serve as an easy way to record who added a band or show to the database, in case there are questions for them later. </li>
         <li>At this time, a user can log in with the username "aquadome" and password "password". </li>
         <li>The <a href="login.phps">front end can be found here</a>, and the <a href="includes/login.inc.phps">actual processing can be found here</a>. The header will then display "hey there, [username]" using the posted username from the log in, and will change from displaying a "login" link to displaying "logout". This, of course, is where the user can end their session. The <a href="includes/logout.inc.phps">logout code can be found here</a>. If the log in is not successful, the user is redirected back to the <a href="includes/login.inc.phps">login page. here</a>. </li>

         <li>Because some pages require the user to be logged in to view the pages, the <a href="newBand.phps">newBand.php</a> and the <a href="newShow.phps">newShow.php</a> pages will only show their content if a session variable called "currentUser" is set, otherwise, the user will be redirected to the login page. With this, there is a varible set with the reference page, so that the user is redirected to the page they started from after they are prompted to login (thus not having to forget what they were going to do in the first place). There is currently an if/else block to check this using the session variable "currentUser", but I am having difficulty with the header() function. The JS portion of this project may help this forwarding predicament. </li>
    <li> PHP was also partly implemented to process forms for adding new bands and shows into what will be a database. Becuase there is not a database at this time, the PHP just posts these values via the submission of the form, and then assigns them to variables. When a database is added, these values will be taken and insterted into the database. The phps file for adding a new band can be found <a href="includes/newBand.inc.phps">here</a>. </li>
</ul>
    
   <h3>Source code for all pages in the project</h3>
     <ul>
       <li><a href="index.phps">index.phps</a></li>
       <li><a href="login.phps">login.phps</a></li>
       <li><a href="dispShows.phps">dispShows.phps</a></li>
       <li><a href="dispBands.phps">dispBands.phps</a></li>
       <li><a href="viewShow.phps">viewShow.phps</a> (unchanged since m1)</li>
       <li><a href="viewBand.phps">viewBand.phps</a> (unchanged since m1)</li>
       <li><a href="newShow.phps">newShow.phps</a></li>
       <li><a href="newBand.phps">newBand.phps</a></li>
       <li>Included files for form processing (note: I am undecided if this is the best way of modularizing the displaying of pages and the processing of them, or if it may be better to have it all in one document. At this time, it seems that this separation allows for an easier use of the header() function in php, which cannot have any output come before it.
          <ul>
            <li><a href="includes/header.phps">header.php</a></li>
            <li><a href="includes/login.inc.phps">login.inc.phps</a></li>
            <li><a href="includes/logout.inc.phps">logout.inc.phps</a></li>
            <li><a href="includes/newBand.inc.phps">newBand.inc.phps</a></li>
            <li><a href="includes/newShow.inc.phps">newBand.inc.phps</a></li>
          </ul>
       </li>
     </ul>
  </body>
</html>
